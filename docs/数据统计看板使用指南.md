# 数据统计看板使用指南

## 概述

数据统计看板是DecentraTodo平台的综合数据可视化界面，提供平台整体运营数据、用户表现、任务统计和趋势分析等功能。

## 功能特性

### 1. 平台核心指标

**总用户数**
- 显示参与过任务的所有用户总数
- 包括任务创建者和执行者
- 实时更新用户参与情况

**总任务数**
- 显示平台上创建的所有任务数量
- 包含所有状态的任务
- 反映平台整体活跃度

**完成率**
- 计算已完成任务占总任务的百分比
- 衡量平台任务执行效率
- 显示平台健康度指标

**总奖励**
- 显示平台累计发放的代币奖励
- 反映平台经济活动规模
- 激励用户参与度

### 2. 活跃度指标

**活跃用户**
- 统计最近30天内有活动的用户数
- 显示用户活跃度占比
- 评估平台用户黏性

**平均难度**
- 计算所有任务的平均难度分数
- 反映平台任务复杂度水平
- 帮助调整任务策略

**进行中任务**
- 显示当前进行中的任务数量
- 实时反映平台工作负载
- 监控任务执行状态

### 3. 数据分布图表

**任务状态分布**
- 待处理：显示等待分配的任务数量和占比
- 进行中：显示正在执行的任务数量和占比
- 已完成：显示已完成的任务数量和占比
- 已取消：显示已取消的任务数量和占比
- 待验证：显示等待社区验证的任务数量和占比

**优先级分布**
- 低优先级：绿色显示，适合新手用户
- 中优先级：橙色显示，平台主要任务类型
- 高优先级：橙红色显示，需要优先处理
- 紧急：红色显示，最高优先级任务

**难度分布**
- 展示难度1-10级任务的数量分布
- 柱状图可视化难度分布情况
- 帮助用户选择合适的任务

### 4. 趋势分析

**7天趋势时间线**
- 显示最近7天的数据变化
- 包含每日创建任务数、完成任务数、新用户数和总奖励
- 时间线形式直观展示趋势

**奖励分布分析**
- 0-100代币：适合简单任务
- 101-500代币：中等复杂度任务
- 501-1000代币：高难度任务
- 1000+代币：专业级任务

### 5. 排行榜系统

**顶级表现者排行榜**
- 按完成任务数量排序
- 显示前5名表现最佳的用户
- 包含完成任务数、总奖励、平均评分、声誉分数和成就数量
- 金银铜奖杯图标表示前三名

### 6. 成就系统

**最近获得的成就**
- 显示最近解锁的成就
- 按稀有度标记颜色：
  - Common：灰色
  - Rare：蓝色
  - Epic：紫色
  - Legendary：金色
- 显示获得者和获得时间

## 使用方法

### 访问统计看板

1. 在导航栏点击"统计看板"
2. 或直接访问 `/dashboard` 路径
3. 页面将自动加载最新统计数据

### 时间范围筛选

**预设时间段**
- 最近7天：查看一周内的数据
- 最近30天：查看一个月内的数据（默认）
- 最近90天：查看季度数据
- 最近1年：查看年度数据

**自定义时间范围**
- 使用日期选择器设置起止时间
- 支持任意时间范围查询
- 实时更新对应时间段的数据

### 数据刷新

- 点击"刷新数据"按钮手动更新
- 页面显示最后更新时间
- 数据每次访问时自动加载

## 技术实现

### 前端架构

**技术栈**
- React + TypeScript
- Ant Design UI组件库
- Day.js时间处理
- 响应式设计支持移动端

**组件结构**
```
Dashboard.tsx                 # 主页面组件
├── StatisticsCharts.tsx     # 统计图表组件
├── Navbar.tsx               # 导航栏（添加看板链接）
└── types.ts                 # 数据类型定义
```

**数据模型**
- `PlatformStatistics`：平台整体统计
- `TrendData`：趋势数据
- `UserPerformance`：用户表现数据
- `Achievement`：成就数据

### 后端API

**Substrate Pallet功能**
- `get_task_statistics()`：获取任务统计
- `get_top_performers(limit)`：获取顶级表现者
- `get_total_users()`：获取总用户数
- `get_active_users()`：获取活跃用户数

**数据存储**
- Tasks存储：任务基础数据
- UserCreatedTasks：用户创建任务索引
- UserAssignedTasks：用户分配任务索引
- TasksByStatus：按状态索引任务

## 数据说明

### 统计指标定义

**完成率计算**
```
完成率 = (已完成任务数 / 总任务数) × 100%
```

**活跃用户定义**
- 最近30天内创建或更新过任务的用户
- 包括任务创建者和执行者

**平均难度计算**
```
平均难度 = 所有任务难度总和 / 任务总数
```

### 数据更新频率

- 实时数据：任务状态、用户统计
- 定期更新：排行榜、成就数据
- 手动刷新：支持用户主动更新

## 常见问题

**Q: 为什么看到的数据不是最新的？**
A: 点击"刷新数据"按钮获取最新数据，或者检查网络连接状态。

**Q: 如何解读任务状态分布？**
A: 
- 高待处理比例：需要更多执行者参与
- 高进行中比例：任务执行活跃
- 高完成率：平台运行良好
- 高取消率：可能需要调整任务策略

**Q: 排行榜如何排序？**
A: 主要按完成任务数量排序，数量相同时按总奖励排序。

**Q: 成就系统如何工作？**
A: 用户达到特定里程碑时自动解锁成就，稀有度越高的成就越难获得。

## 最佳实践

### 数据分析建议

1. **监控完成率趋势**
   - 完成率持续下降可能表明任务难度过高
   - 完成率过高可能需要增加任务复杂度

2. **关注用户活跃度**
   - 活跃用户比例反映平台吸引力
   - 新用户增长趋势显示平台发展

3. **优化任务分布**
   - 根据难度分布调整任务设置
   - 根据优先级分布平衡任务紧急程度

### 用户激励策略

1. **排行榜激励**
   - 定期表彰顶级表现者
   - 设置阶段性奖励机制

2. **成就系统**
   - 设计多样化成就目标
   - 提供稀有成就的特殊奖励

3. **数据透明化**
   - 公开平台运营数据
   - 增加用户对平台的信任

## 更新日志

### v1.0.0 (当前版本)
- ✅ 基础统计看板功能
- ✅ 平台核心指标显示
- ✅ 任务状态分布图表
- ✅ 顶级表现者排行榜
- ✅ 最近成就展示
- ✅ 时间范围筛选
- ✅ 响应式设计

### 规划中的功能
- 📋 高级图表可视化（折线图、饼图）
- 📋 数据导出功能
- 📋 用户个人统计面板
- 📋 任务完成度预测
- 📋 平台健康度评分
- 📋 实时数据推送

## 总结

数据统计看板为DecentraTodo平台提供了全面的数据洞察能力，帮助用户了解平台运营状况，发现改进机会，优化用户体验。通过直观的可视化界面和丰富的统计指标，用户可以轻松掌握平台动态，做出更好的决策。 